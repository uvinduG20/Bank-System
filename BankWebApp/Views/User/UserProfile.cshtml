@{
    var user = ViewBag.User as BankWebApp.Models.User;
}

<link href="~/css/custom.css" rel="stylesheet" type="text/css" />

<div class="container-fluid">
    <h1 class="mb-4">User Profile</h1>

    <div class="card mb-4">
        <h3>@user?.Name</h3>
        <p><strong>Username:</strong> @user?.Username</p> <!-- Display the current username -->
        <p><strong>Email:</strong> @user?.Email</p>
        <p><strong>Phone:</strong> @user?.Phone</p>
        <p><strong>Address:</strong> @user?.Address</p>

        <!-- Edit Button -->
        <button class="btn btn-primary" id="edit-profile-btn">Edit Profile</button>
    </div>

    <!-- Edit Profile Form (Initially hidden) -->
    <div class="card mb-4" id="edit-profile-form" style="display:none;">
        <h3>Edit Profile</h3>
        <form id="profile-edit-form" method="post" action="/User/UpdateProfile">
           
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" name="Email" value="@user?.Email" class="form-control" required />
            </div>
            <div class="form-group">
                <label for="phone">Phone:</label>
                <input type="text" id="phone" name="Phone" value="@user?.Phone" class="form-control" required />
            </div>
            <div class="form-group">
                <label for="address">Address:</label>
                <input type="text" id="address" name="Address" value="@user?.Address" class="form-control" required />
            </div>

            <!-- Password Change -->
            <h4>Change Password</h4>
            <div class="form-group">
                <label for="password">New Password:</label>
                <input type="password" id="password" name="Password" class="form-control" />
            </div>

            <button type="submit" class="btn btn-primary">Save Changes</button>
        </form>
    </div>
</div>

<script>
    // Toggle between profile display and edit form
    document.getElementById("edit-profile-btn").addEventListener("click", function () {
        document.getElementById("edit-profile-form").style.display = "block";
    });
</script>
